{"version":3,"sources":["views/auth-views/components/RegisterForm.js","views/auth-views/authentication/register-1/index.js"],"names":["rules","email","required","message","type","password","firstName","lastName","confirm","getFieldValue","validator","rule","value","Promise","reject","resolve","mapDispatchToProps","showAuthMessage","hideAuthMessage","showLoading","hideLoading","authenticated","connect","auth","loading","showMessage","token","redirect","props","allowRedirect","Form","useForm","form","history","useHistory","useEffect","undefined","push","setTimeout","div","initial","opacity","marginBottom","animate","showIcon","layout","name","onFinish","validateFields","then","values","userInfo","avatar","JwtAuthService","signUp","res","success","window","location","href","catch","info","console","log","Item","label","hasFeedback","prefix","className","Password","htmlType","block","backgroundStyle","backgroundImage","backgroundRepeat","backgroundSize","RegisterOne","theme","useSelector","state","currentTheme","style","justify","xs","sm","md","lg","src","alt"],"mappings":"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","file":"static/js/14.cf3b7d75.chunk.js","sourcesContent":["import React, {useEffect} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {LockOutlined, MailOutlined, UserOutlined} from '@ant-design/icons';\r\nimport {Button, Form, Input, Alert} from \"antd\";\r\nimport {showAuthMessage, showLoading, hideAuthMessage, authenticated, hideLoading} from 'redux/actions/Auth';\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {motion} from \"framer-motion\"\r\nimport JwtAuthService from 'services/JwtAuthService'\r\n\r\nconst rules = {\r\n  email: [\r\n    {\r\n      required: true,\r\n      message: 'Please input your email address'\r\n    },\r\n    {\r\n      type: 'email',\r\n      message: 'Please enter a validate email!'\r\n    }\r\n  ],\r\n  password: [\r\n    {\r\n      required: true,\r\n      message: 'Please input your password'\r\n    }\r\n  ],\r\n  firstName: [\r\n    {\r\n      required: true,\r\n      message: 'Please input your first name'\r\n    }\r\n  ],\r\n  lastName: [\r\n    {\r\n      required: true,\r\n      message: 'Please input your last name'\r\n    }\r\n  ],\r\n  confirm: [\r\n    {\r\n      required: true,\r\n      message: 'Please confirm your password!'\r\n    },\r\n    ({getFieldValue}) => ({\r\n      validator(rule, value) {\r\n        if (!value || getFieldValue('password') === value) {\r\n          return Promise.resolve();\r\n        }\r\n        return Promise.reject('Passwords do not match!');\r\n      },\r\n    })\r\n  ]\r\n}\r\n\r\nexport const RegisterForm = (props) => {\r\n\r\n  const {\r\n    showLoading,\r\n    hideLoading,\r\n    token,\r\n    loading,\r\n    redirect,\r\n    message,\r\n    showMessage,\r\n    hideAuthMessage,\r\n    authenticated,\r\n    allowRedirect,\r\n    showAuthMessage\r\n  } = props\r\n  const [form] = Form.useForm();\r\n  let history = useHistory();\r\n\r\n  const onSignUp = () => {\r\n    form.validateFields().then(values => {\r\n      let userInfo = {\r\n        ...values,\r\n        avatar: \"https://miro.medium.com/max/720/1*W35QUSvGpcLuxPo3SRTH4w.png\"\r\n      }\r\n      showLoading()\r\n      // const fakeToken = 'fakeToken'\r\n      JwtAuthService.signUp(userInfo).then(res => {\r\n        if (!res?.success) {\r\n          showAuthMessage(res?.message ?? \"Error\")\r\n        } else {\r\n          // authenticated(res.data.token)\r\n          window.location.href ='login'\r\n        }\r\n      })\r\n\r\n    }).catch(info => {\r\n      console.log('Validate Failed:', info);\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (token !== null && token !== \"\" && token !== undefined && allowRedirect) {\r\n      history.push(redirect)\r\n    }\r\n    if (showMessage) {\r\n      setTimeout(() => {\r\n        hideAuthMessage();\r\n      }, 3000);\r\n    }\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <motion.div\r\n        initial={{opacity: 0, marginBottom: 0}}\r\n        animate={{\r\n          opacity: showMessage ? 1 : 0,\r\n          marginBottom: showMessage ? 20 : 0\r\n        }}>\r\n        <Alert type=\"error\" showIcon message={message}></Alert>\r\n      </motion.div>\r\n      <Form form={form} layout=\"vertical\" name=\"register-form\" onFinish={onSignUp}>\r\n        <Form.Item\r\n          name=\"firstName\"\r\n          label=\"First name\"\r\n          rules={rules.firstName}\r\n          hasFeedback\r\n        >\r\n          <Input prefix={<UserOutlined className=\"text-primary\"/>}/>\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"lastName\"\r\n          label=\"Last name\"\r\n          rules={rules.lastName}\r\n          hasFeedback\r\n        >\r\n          <Input prefix={<UserOutlined className=\"text-primary\"/>}/>\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"email\"\r\n          label=\"Email\"\r\n          rules={rules.email}\r\n          hasFeedback\r\n        >\r\n          <Input prefix={<MailOutlined className=\"text-primary\"/>}/>\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"password\"\r\n          label=\"Password\"\r\n          rules={rules.password}\r\n          hasFeedback\r\n        >\r\n          <Input.Password prefix={<LockOutlined className=\"text-primary\"/>}/>\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"confirm\"\r\n          label=\"ConfirmPassword\"\r\n          rules={rules.confirm}\r\n          hasFeedback\r\n        >\r\n          <Input.Password prefix={<LockOutlined className=\"text-primary\"/>}/>\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" block loading={loading}>\r\n            Sign Up\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = ({auth}) => {\r\n  const {loading, message, showMessage, token, redirect} = auth;\r\n  return {loading, message, showMessage, token, redirect}\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  showAuthMessage,\r\n  hideAuthMessage,\r\n  showLoading,\r\n  hideLoading,\r\n  authenticated\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterForm)\r\n","import React from 'react'\r\nimport RegisterForm from '../../components/RegisterForm'\r\nimport { Card, Row, Col } from \"antd\";\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst backgroundStyle = {\r\n\tbackgroundImage: 'url(/img/others/img-17.jpg)',\r\n\tbackgroundRepeat: 'no-repeat',\r\n\tbackgroundSize: 'cover'\r\n}\r\n\r\nconst RegisterOne = props => {\r\n\tconst theme = useSelector(state => state.theme.currentTheme)\r\n\treturn (\r\n\t\t<div className=\"h-100\" style={backgroundStyle}>\r\n\t\t\t<div className=\"container d-flex flex-column justify-content-center h-100\">\r\n\t\t\t\t<Row justify=\"center\">\r\n\t\t\t\t\t<Col xs={20} sm={20} md={20} lg={7}>\r\n\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t<img className=\"img-fluid\" src={`/img/${theme === 'light' ? 'logo.png': 'logo-white.png'}`} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted\">Create a new account:</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Row justify=\"center\">\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={20} lg={20}>\r\n\t\t\t\t\t\t\t\t\t\t<RegisterForm {...props}/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default RegisterOne\r\n"],"sourceRoot":""}